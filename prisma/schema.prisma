// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model Mahasiswa {
  id_mahasiswa            Int      @id @default(autoincrement())
  nama_mahasiswa          String
  npm_mahasiswa           String   @unique
  password_mahasiswa      String
  id_tahun_ajaran         Int
  id_fakultas             Int
  id_prodi                Int
  no_telp_mahasiswa       String
  bukti_regis_mahasiswa   String
  status_mahasiswa        Boolean
  createdAt               DateTime @default(now())
  updatedAt               DateTime @updatedAt

  Prodi                   Prodi    @relation(fields: [id_prodi], references: [id_prodi])
  tahun_ajaran_mahasiswa  tahun_ajaran_mahasiswa @relation(fields: [id_tahun_ajaran], references: [id_tahun_ajaran])
  Fakultas                Fakultas @relation(fields: [id_fakultas], references: [id_fakultas])

}

model Account {
  id                      Int      @id @default(autoincrement())
  NIK                     String?  @unique
  NIP                     String?  @unique
  nama                    String
  email                   String   @unique
  password                String
  no_telp                 String
  bukti_regis             String
  id_role                 Int
  status_account          Boolean
  createdAt               DateTime @default(now())
  updatedAt               DateTime @updatedAt

  Role                    Role     @relation(fields: [id_role], references: [id_role])
}

model Fakultas {
  id_fakultas             Int      @id @default(autoincrement())
  nama_fakultas           String

  Prodi                   Prodi[]
  Mahasiswa               Mahasiswa[]
}

model Prodi {
  id_prodi                Int      @id @default(autoincrement())
  nama_prodi              String
  id_fakultas             Int

  Fakultas                Fakultas @relation(fields: [id_fakultas], references: [id_fakultas])

  Mahasiswa               Mahasiswa[]
}

model tahun_ajaran_mahasiswa {
  id_tahun_ajaran         Int      @id @default(autoincrement())
  tahun_ajaran            String

  Mahasiswa               Mahasiswa[]
}

model Role {
  id_role                 Int      @id @default(autoincrement())
  nama_role               String

  account                 Account[]
}

model jenis_fasilitas {
  id_jenis_fasilitas      Int      @id @default(autoincrement())
  nama_jenis_fasilitas    String

  Fasilitas               Fasilitas[]
}

model Admin {
  id_admin                Int      @id @default(autoincrement())
  username_admin          String
  password_admin          String
}

model Fasilitas {
  id_fasilitas            Int      @id @default(autoincrement())
  nama_fasilitas          String
  alamat_fasilitas        String
  deskripsi_fasilitas     String
  biaya_fasilitas         Int
  jam_masuk               String
  jam_keluar              String
  foto_fasilitas          String
  status_fasilitas        Boolean
  id_jenis_fasilitas      Int

  jenis_fasilitas         jenis_fasilitas @relation(fields: [id_jenis_fasilitas], references: [id_jenis_fasilitas])
}

model kamar_asrama {
  id_asrama               Int      @id @default(autoincrement())
  no_kamar                Int
  id_lantai               Int
  npm_bed1_a              String?
  npm_bed2_b              String?
  npm_bed3_c              String?
  status_kamar            Boolean

  LantaiAsrama            lantai_asrama @relation(fields: [id_lantai], references: [id_lantai])
}

model lantai_asrama {
  id_lantai               Int      @id @default(autoincrement())
  lantai                  Int
  harga_lantai            Int

  KamarAsrama             kamar_asrama[]
}
